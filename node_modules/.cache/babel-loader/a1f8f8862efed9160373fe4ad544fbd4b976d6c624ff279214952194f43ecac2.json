{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\",\n  class: \"todo-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"todo-box\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TodoHeader = _resolveComponent(\"TodoHeader\");\n  const _component_TodoInput = _resolveComponent(\"TodoInput\");\n  const _component_TodoList = _resolveComponent(\"TodoList\");\n  const _component_TodoFooter = _resolveComponent(\"TodoFooter\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_TodoHeader), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_TodoInput, {\n    propsdata: $data.todoItems,\n    onAddTodo: $options.addTodo,\n    onCheckAllTodo: $options.checkAllTodo\n  }, null, 8 /* PROPS */, [\"propsdata\", \"onAddTodo\", \"onCheckAllTodo\"]), _createVNode(_component_TodoList, {\n    propsdata: $data.todoItems,\n    propsdata2: $data.filterType,\n    onRemoveTodo: $options.removeTodo,\n    onToggleTodo: $options.toggleTodo\n  }, null, 8 /* PROPS */, [\"propsdata\", \"propsdata2\", \"onRemoveTodo\", \"onToggleTodo\"]), _createVNode(_component_TodoFooter, {\n    propsdata: $data.todoItems,\n    onRemoveAll: $options.clearAll,\n    onClearCompleted: $options.clearCompleted,\n    onChangeFilter: $options.changeFilter\n  }, null, 8 /* PROPS */, [\"propsdata\", \"onRemoveAll\", \"onClearCompleted\", \"onChangeFilter\"])])]);\n}","map":{"version":3,"mappings":";;EACOA,EAAE,EAAC,KAAK;EAACC,KAAK,EAAC;;;EAEbA,KAAK,EAAC;AAAU;;;;;;uBAFvBC,oBAOM,OAPNC,UAOM,GANJC,aAAyBC,wBACzBC,oBAIM,OAJNC,UAIM,GAHJH,aAA4GI;IAA1FC,SAAS,EAAEC,eAAS;IAAOC,SAAO,EAAEC,gBAAO;IAAOC,cAAY,EAAED;yEAClFR,aAA4IU;IAA3HL,SAAS,EAAEC,eAAS;IAASK,UAAU,EAAEL,gBAAU;IAAOM,YAAU,EAAEJ,mBAAU;IAAOK,YAAU,EAAEL;wFACpHR,aAAsJc;IAAnIT,SAAS,EAAEC,eAAS;IAAOS,WAAS,EAAEP,iBAAQ;IAAOQ,gBAAc,EAAER,uBAAc;IAAOS,cAAY,EAAET","names":["id","class","_createElementBlock","_hoisted_1","_createVNode","_component_TodoHeader","_createElementVNode","_hoisted_2","_component_TodoInput","propsdata","$data","onAddTodo","$options","onCheckAllTodo","_component_TodoList","propsdata2","onRemoveTodo","onToggleTodo","_component_TodoFooter","onRemoveAll","onClearCompleted","onChangeFilter"],"sourceRoot":"","sources":["C:\\JI\\test_vue\\vue-project\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"todo-wrapper\">\n    <TodoHeader></TodoHeader>\n    <div class=\"todo-box\">\n      <TodoInput v-bind:propsdata=\"todoItems\" v-on:addTodo=\"addTodo\" v-on:checkAllTodo=\"checkAllTodo\"></TodoInput>\n      <TodoList v-bind:propsdata=\"todoItems\" v-bind:propsdata2=\"filterType\" v-on:removeTodo=\"removeTodo\" v-on:toggleTodo=\"toggleTodo\" ></TodoList>\n      <TodoFooter v-bind:propsdata=\"todoItems\" v-on:removeAll=\"clearAll\" v-on:clearCompleted=\"clearCompleted\" v-on:changeFilter=\"changeFilter\"></TodoFooter>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TodoHeader from './components/TodoHeader';\nimport TodoInput from './components/TodoInput';\nimport TodoList from './components/TodoList';\nimport TodoFooter from './components/TodoFooter';\n\nexport default{\n  data(){\n    return {\n      todoItems: [],\n      filterType: ''\n    }\n  },\n  created(){\n    if(localStorage.length>0){\n      for(var i = 0; i<localStorage.length; i++){\n        if(localStorage.key(i) !== 'loglevel:webpack-dev-server'){\n          //this.todoItems.push(localStorage.key(i));\n          this.todoItems.push(JSON.parse(localStorage.getItem(localStorage.key(i)))); ///순서보장\n        }\n      }\n    }\n  },\n  \n  methods:{\n    addTodo(todoItem){\n      console.log(todoItem);\n      var obj = {completed:false, item:todoItem};\n      localStorage.setItem(todoItem, JSON.stringify(obj));\n      this.todoItems.push(obj);\n    },\n\n    removeTodo(todoItem, index){\n      localStorage.removeItem(todoItem.item);\n      this.todoItems.splice(index,1);\n    },\n\n    toggleTodo(todoItem){\n      if(todoItem.completed === false){\n        todoItem.completed = true;\n      } else{\n        todoItem.completed = false;\n      }\n      localStorage.setItem(todoItem.item,JSON.stringify(todoItem));\n    },\n\n    clearAll(){\n      localStorage.clear();\n      this.todoItems = [];\n    },\n\n    clearCompleted(){\n      var checkIndex = this.todoItems.length; // 4개 (0,1,2,3)\n      var checkItem = this.todoItems;\n      //console.log(this.todoItems[3].completed, checkIndex);\n      this.Recursive(checkItem, checkIndex);\n    },\n\n    Recursive(checkItem, checkIndex){\n      if(checkIndex>0){\n        if(this.checkItem[checkIndex-1].completed === true){ //3번이 트루면\n          this.removeTodo(checkItem[checkIndex-1], checkIndex-1); //3번 삭제\n          // console.log(checkItem+'true');\n          chec\n          return this.Recursive(checkItem[checkIndex], checkIndex-1);\n        }\n        else{\n          // console.log(checkItem+'false');\n          return this.Recursive(checkItem[checkIndex], checkIndex-1);\n        }\n      }\n      else{\n        return;\n      }\n    },\n\n    // clearCompleted(){\n    //   var checkIndex = 0;\n    //   var checkItem;\n    //   for(var i = 0; i<localStorage.length; i++){\n    //     checkItem = JSON.parse(localStorage.getItem(localStorage.key(i)));\n    //     if(checkItem.completed === true){\n    //       checkIndex = i;\n    //       this.removeTodo(checkItem, checkIndex);\n    //     }\n    //   }\n    // },//기존코드\n\n    \n    checkAllTodo(){\n      var cnt = 0;\n      var todoItem;\n\n      for(var i = 0; i<localStorage.length; i++){\n        todoItem = JSON.parse(localStorage.getItem(localStorage.key(i)));\n        if(todoItem.completed === false){\n        cnt++;\n        }\n      }   \n\n      if(cnt>0){\n        this.checkAllOrNot(todoItem, true);\n      } else {\n        this.checkAllOrNot(todoItem, false);\n      }\n      \n    },\n\n    checkAllOrNot(todoItem, value){\n      for(var i = 0; i<localStorage.length; i++){\n        todoItem = JSON.parse(localStorage.getItem(localStorage.key(i)));\n        todoItem.completed = value;\n        localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n        this.todoItems[i] = todoItem;\n      }\n    },\n\n    changeFilter(value){\n      this.filterType = value;\n      // console.log(this.filterType);\n    }\n\n  },\n    components: {\n      'TodoHeader' : TodoHeader,\n      'TodoInput' : TodoInput,\n      'TodoList' : TodoList,\n      'TodoFooter' : TodoFooter\n  }\n}\n</script>\n\n<style>\nhtml {\n\theight: 100%;\n}\n\nbody {\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: center;\n    background-color: #F5F5F5;\n    min-height: 100%;\n}\n\n.todo-wrapper {\n    justify-content: center;\n    margin-top: 3rem;\n    min-width: 600px;\n}\n\n.todo-box {\n    background-color: white;\n    border: 1px solid #ddd;\n}\n\nbutton {\n    background-color: transparent;\n    border: 0;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}